# mnubo node-red SDK

Table of Content
================
 
[1. Introduction](#section1)

[2. Architecture](#section2) 

[3. Pre-requisites](#section3)

[4. Installation & Configuration](#section4) 

[5. Usage](#section5)

[6. Important notes](#section6) 

[7. Source code](#section7)

[8. Known limitations](#section8)

[9. References](#section9)

---

# <a name="section1"></a>1. Introduction

This is the implementation of the mnubo's SmartObjects functionality in the node-red environment.

Note that this package is also compatible with other node-red environments, like IBM Bluemix and AT&T Flow.

---
# <a name="section2"></a>2. Architecture

This is a front-end implementation of the https://www.npmjs.com/package/mnubo-sdk

Detailed info is available on the individual node in node-red. 

Here is a brief description of the nodes:

•	`mnubo config`: This is the Configuration Node that holds the mnubo's SmartObjects credential, all nodes need to have this configured.

•	`Auth`: This node is used to fetch the access token for communication with SmartObject. This node will also allow you to get the status about the token.

•	`Owners` : This node is used to handle the Owners Ingestion API: `Create`, `Update`, `Delete`, `Claim Object`, `unClaim Object`

•	`Objects` : This node is used to handle the Objects Ingestion API: `Create`, `Update`, `Delete`

•	`Events` : This node is used to handle the Events Ingestion API: `Send`, `SendFromDevice`

•	`Analytics` : This node is used to handle the Search API: `getDataset`, `getDatamodel`, `SearchQurery`

---

# <a name="section3"></a>3. Prerequisites

This is a node-red package, so it requires node-red, The minimum version of node-red supported is v0.10.10

To use the mnubo's SmartObjects nodes, you will need to have a valid mnubo account, with access granted on a namespace.
To obtain your unique namespace in the SmartObjects platform, contact sales@mnubo.com . Please use the subject title **node-red-contrinb-mnubo** and include in the body of the email the name of your company, contact name and phone number.

The Official reference API can be found in the following: [API documentation]

(https://smartobjects.mnubo.com/documentation/index.html).

This package also requires the following package:
- mnubo's SmartObjects Javascript SDK [mnubo-js-sdk](https://github.com/mnubo/mnubo-js-sdk)

Those packages will be installed automatically by npm, as they are dependent packages.

---

# <a name="section4"></a>4. Installation & Configuration

#### Linux installation

    sudo npm install --prefix ~/.node-red node-red-contrib-mnubo
    
#### Windows installation (using Cygwin)

    npm install --prefix ~/.node-red node-red-contrib-mnubo
    mkdir %homepath%/.node-red/nodes
    cp -rp %homepath%/node_modules/node-red-contrib-mnubo %homepath%/.node-red/nodes/

#### AT&T flow

Note that this node is also compatible with the AT&T Flow, to use it in flow, just edit the package.json in your flow project, and add this node in the depedency:

    "dependencies":{"node-red-contrib-mnubo":"^1.0.3"}

        Then, when you will " enter the Online mode", you should have access to the mnubo nodes.

---

# <a name="section5"></a>5. Usage

## Examples

#### Example 1: Quick Demo

Here is a quick demo that shows how to authenticate, create owner, update owner, create object, update object, send event, do a basicSearchQuery, delete the object, delete the owner:

```
[{"id":"394cd83e.c898a8","type":"tab","label":"Mnubo Node Test","disabled":false,"info":""},{"id":"a0783bf9.8553f8","type":"mnubo auth","z":"394cd83e.c898a8","name":"","mnuboconfig":"7e770dbf.06e484","x":320,"y":40,"wires":[["9084e84e.e41e68"]]},{"id":"e9707fd9.b8207","type":"inject","z":"394cd83e.c898a8","name":"","topic":"Test All","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":76,"y":40,"wires":[["a0783bf9.8553f8"]]},{"id":"9084e84e.e41e68","type":"switch","z":"394cd83e.c898a8","name":"Token != Bearer","property":"payload.type","propertyType":"msg","rules":[{"t":"neq","v":"Bearer","vt":"str"},{"t":"eq","v":"Bearer","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":580,"y":40,"wires":[["1fb08ea1.9afd61"],["b23c4444.7654f8","869db6bf.706958"]]},{"id":"38fd0297.d16a3e","type":"mnubo owners","z":"394cd83e.c898a8","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":406,"y":995,"wires":[["4e7e6487.d31a7c"]]},{"id":"89708740.b7f658","type":"mnubo owners","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"delete","inputtext":"","x":442,"y":303,"wires":[["847caf.962aa35","bab4f73a.dd49d8"]]},{"id":"1fb08ea1.9afd61","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":790,"y":23,"wires":[]},{"id":"b23c4444.7654f8","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":790,"y":54,"wires":[]},{"id":"1571b126.b248cf","type":"inject","z":"394cd83e.c898a8","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":77,"y":299,"wires":[["c588c3b6.266af"]]},{"id":"54fcbaa5.15cb64","type":"inject","z":"394cd83e.c898a8","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":77,"y":100,"wires":[["869db6bf.706958"]]},{"id":"ae851cab.f4a8e","type":"mnubo owners","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"update","inputtext":"","x":414,"y":1070,"wires":[["dbff4a56.52bbd8"]]},{"id":"a67847a0.e15238","type":"mnubo objects","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"create","inputtext":"","x":413,"y":1155,"wires":[["da645344.731a2"]]},{"id":"c79d7461.54b8a8","type":"mnubo objects","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"delete","inputtext":"","x":433,"y":219,"wires":[["5b481ba4.2f28b4","c588c3b6.266af"]]},{"id":"c1e3fec2.3f96e","type":"inject","z":"394cd83e.c898a8","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":78,"y":215,"wires":[["99587670.430788"]]},{"id":"a0bceea9.a57d","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":783,"y":203,"wires":[]},{"id":"4efe509f.93d4e","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":783,"y":235,"wires":[]},{"id":"68b46d98.15f7a4","type":"mnubo objects","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"update","inputtext":"","x":403,"y":1231,"wires":[["738fae22.388b9"]]},{"id":"b4a1d543.7a28b8","type":"mnubo events","z":"394cd83e.c898a8","name":"Default Settings","mnuboconfig":"925bd588.43e258","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":409,"y":1302,"wires":[["fdc9724b.c98c4"]]},{"id":"e9bb1fc2.132cf","type":"mnubo events","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":false,"objectsMustExist":false,"x":505,"y":1502,"wires":[["b67b240d.7966d8"]]},{"id":"6cbd5194.ccd48","type":"mnubo analytics","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","searchtype":"SearchQuery","inputquery":"","x":396.00000381469727,"y":1738.999948501587,"wires":[["75c08c6f.2df644"]]},{"id":"a1c0edc7.5aced","type":"function","z":"394cd83e.c898a8","name":"Create Owner","func":"return { \n    \"payload\": {\n    \t\"username\": flow.get(\"mnubo_variables\").owner1,\n    \t\"x_password\": \"12345678\",\n    \t\"gender\": \"male\",\n    \t\"age\": 26\n    }\n};","outputs":1,"noerr":0,"x":189.44447326660156,"y":994.8888549804688,"wires":[["38fd0297.d16a3e"]]},{"id":"6fc4938d.5c4f9c","type":"function","z":"394cd83e.c898a8","name":"Create an Object","func":"msg.payload = {\n\t\"x_device_id\": flow.get(\"mnubo_variables\").object1,\n    \"x_object_type\": \"test-object_type\",\n\t\"x_owner\": {\n\t\t\"username\": flow.get(\"mnubo_variables\").owner1\n\t},\n\t\"color\": \"red\"\n};\nreturn msg;","outputs":1,"noerr":0,"x":191.44444274902344,"y":1154.111083984375,"wires":[["a67847a0.e15238"]]},{"id":"a2f77b0b.741338","type":"function","z":"394cd83e.c898a8","name":"Send an event","func":"msg.payload = [{\n\t\"x_object\": {\"x_device_id\": flow.get(\"mnubo_variables\").object1},\n\t\"x_event_type\": \"measurement\",\n\t\"x_timestamp\": new Date().toISOString(),\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 25.6\n}];\nreturn msg;","outputs":1,"noerr":0,"x":180,"y":1360,"wires":[["b4a1d543.7a28b8","433fa3a.72a3f5c","350c4a71.f15c96","3d7f6c1c.05cd54"]]},{"id":"f0d1179c.ebb0c8","type":"function","z":"394cd83e.c898a8","name":"Count Events","func":"return { \"payload\":\n    {\n    \t\"from\": \"event\",\n    \t\"select\": [{\n    \t\t\"count\": \"*\"\n    \t}]\n    }\n};","outputs":1,"noerr":0,"x":164.22222900390625,"y":1741.111083984375,"wires":[["6cbd5194.ccd48"]]},{"id":"da5e702c.ebb8f","type":"function","z":"394cd83e.c898a8","name":"Update owner","func":"msg.payload = [ \n  flow.get(\"mnubo_variables\").owner1, \n  { \n\t\"x_registration_latitude\": 45.223, \n\t\"x_registration_longitude\": 73.234,\n\t\"age\": 29\n  }\n];\nreturn msg;","outputs":1,"noerr":0,"x":185.44442749023438,"y":1070.6666259765625,"wires":[["ae851cab.f4a8e"]]},{"id":"b784da61.631918","type":"function","z":"394cd83e.c898a8","name":"Update Object","func":"msg.payload = [\n    flow.get(\"mnubo_variables\").object1, \n    { \n        \"color\": \"white\"\n    }\n];\nreturn msg;\n","outputs":1,"noerr":0,"x":195,"y":1233,"wires":[["68b46d98.15f7a4"]]},{"id":"ddf54e03.bf44f","type":"function","z":"394cd83e.c898a8","name":"Send an Event FROM the object","func":"msg.payload = [\n    flow.get(\"mnubo_variables\").object1, \n    [{\n\t\"x_event_type\": \"measurement\",\n\t\"x_timestamp\": new Date().toISOString(),\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n];\n\nreturn msg;","outputs":1,"noerr":0,"x":195,"y":1562,"wires":[["e9bb1fc2.132cf","10bcc2d2.9aedfd","5ba79d75.3b0064","75f84fb2.1cb56"]]},{"id":"869db6bf.706958","type":"function","z":"394cd83e.c898a8","name":"set global env","func":"//Flow context share by all functions\nflow.set(\"mnubo_variables\", {\n    owner1: \"node-red-owner@test.com\",\n    object1: \"node-red-device-auto\"\n});\nreturn msg;","outputs":1,"noerr":0,"x":306,"y":100,"wires":[["99587670.430788"]]},{"id":"c588c3b6.266af","type":"function","z":"394cd83e.c898a8","name":"delete owner1","func":"msg.payload = flow.get(\"mnubo_variables\").owner1;\nreturn msg;","outputs":1,"noerr":0,"x":254,"y":302,"wires":[["89708740.b7f658"]]},{"id":"99587670.430788","type":"function","z":"394cd83e.c898a8","name":"delete object1","func":"msg.payload = flow.get(\"mnubo_variables\").object1;\nreturn msg;","outputs":1,"noerr":0,"x":236,"y":219,"wires":[["c79d7461.54b8a8"]]},{"id":"a773b6ba.19bca8","type":"inject","z":"394cd83e.c898a8","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":80,"y":940,"wires":[["a1c0edc7.5aced"]]},{"id":"433fa3a.72a3f5c","type":"mnubo events","z":"394cd83e.c898a8","name":"Report Results","mnuboconfig":"925bd588.43e258","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":409,"y":1342,"wires":[["fdc9724b.c98c4"]]},{"id":"350c4a71.f15c96","type":"mnubo events","z":"394cd83e.c898a8","name":"Objects Must Exist","mnuboconfig":"925bd588.43e258","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":419,"y":1382,"wires":[["fdc9724b.c98c4"]]},{"id":"3d7f6c1c.05cd54","type":"mnubo events","z":"394cd83e.c898a8","name":"Both Flags On","mnuboconfig":"925bd588.43e258","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":409,"y":1422,"wires":[["ddf54e03.bf44f","fdc9724b.c98c4"]]},{"id":"c9a4c779.679e88","type":"inject","z":"394cd83e.c898a8","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":77,"y":1509,"wires":[["ddf54e03.bf44f"]]},{"id":"aaba03b9.6b8b7","type":"mnubo objects","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"exists","inputtext":"","x":434.00000381469727,"y":1816.999948501587,"wires":[["dc39d374.e9202"]]},{"id":"419b0abd.74db94","type":"function","z":"394cd83e.c898a8","name":"object1 exists?","func":"return {\"payload\": flow.get(\"mnubo_variables\").object1};","outputs":1,"noerr":0,"x":236.00000381469727,"y":1818.999948501587,"wires":[["aaba03b9.6b8b7"]]},{"id":"2b2bbcdd.1b5a24","type":"mnubo owners","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"exists","inputtext":"","x":432.00000381469727,"y":1894.999948501587,"wires":[["e104ffb6.5f63b"]]},{"id":"b14cc352.b8241","type":"function","z":"394cd83e.c898a8","name":"owner1 exists?","func":"return {\"payload\": flow.get(\"mnubo_variables\").owner1};","outputs":1,"noerr":0,"x":222.00000381469727,"y":1894.999948501587,"wires":[["2b2bbcdd.1b5a24"]]},{"id":"5b481ba4.2f28b4","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":617,"y":218,"wires":[["a0bceea9.a57d"],["4efe509f.93d4e"]]},{"id":"10bcc2d2.9aedfd","type":"mnubo events","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":true,"objectsMustExist":false,"x":505,"y":1542,"wires":[["b67b240d.7966d8"]]},{"id":"5ba79d75.3b0064","type":"mnubo events","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":false,"objectsMustExist":true,"x":505,"y":1582,"wires":[["b67b240d.7966d8"]]},{"id":"75f84fb2.1cb56","type":"mnubo events","z":"394cd83e.c898a8","name":"","mnuboconfig":"925bd588.43e258","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":true,"objectsMustExist":true,"x":505,"y":1622,"wires":[["f0d1179c.ebb0c8","b67b240d.7966d8"]]},{"id":"17b00401.806f0c","type":"mnubo model","z":"394cd83e.c898a8","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"createDatamodel","inputtext":"{\n    \"objectTypes\": [\n        {\n            \"key\": \"car\",\n            \"displayName\": \"Car\",\n            \"description\": \"General\",\n            \"objectAttributes\": [\n                {\n                    \"key\": \"companyid\",\n                    \"displayName\": \"CompanyId\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"INT\",\n                        \"containerType\": \"none\"\n                    }\n                },\n                {\n                    \"key\": \"unitname\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\",\n                        \"containerType\": \"none\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"truck\",\n            \"displayName\": \"12 wheels dump truck\",\n            \"description\": \"\",\n            \"objectAttributes\": [\n                {\n                    \"key\": \"companyid\",\n                    \"displayName\": \"CompanyId\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"INT\",\n                        \"containerType\": \"none\"\n                    }\n                },\n                {\n                    \"key\": \"unitname\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\",\n                        \"containerType\": \"none\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"eventTypes\": [\n        {\n            \"key\": \"harsh_acceleration\",\n            \"displayName\": \"\",\n            \"description\": \"Harsh Acceleration\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"seatbelt_fastened_indicator\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"ignition_on\",\n            \"displayName\": \"\",\n            \"description\": \"Ignition off\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": []\n        },\n        {\n            \"key\": \"ignition_off\",\n            \"displayName\": \"\",\n            \"description\": \"Ignition off\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": []\n        }\n    ],\n    \"ownerAttributes\": [\n        {\n            \"key\": \"customername\",\n            \"displayName\": \"Customer Name\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"TEXT\",\n                \"containerType\": \"none\"\n            }\n        },\n        {\n            \"key\": \"inserteddate\",\n            \"displayName\": \"Created\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"DATETIME\",\n                \"containerType\": \"none\"\n            }\n        }\n    ]\n}","x":389,"y":620,"wires":[["3ae6fec1.e25d42"]]},{"id":"e595ff54.2a70e","type":"mnubo model","z":"394cd83e.c898a8","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"getDatamodel","inputtext":"{\n    \"objectTypes\": [],\n    \"eventTypes\": [\n        {\n            \"key\": \"test\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"test-1\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"ownerAttributes\": [],\n    \"sessionizers\": [],\n    \"orphans\": {},\n    \"tracked\": {\n        \"objectAttributes\": []\n    },\n    \"enrichers\": {},\n    \"reservedEnrichersFields\": []\n}","x":379,"y":740,"wires":[["ad5ae6ed.f652c8"]]},{"id":"f325f655.1d50d8","type":"mnubo model","z":"394cd83e.c898a8","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"resetDatamodel","inputtext":"{\n    \"objectTypes\": [],\n    \"eventTypes\": [\n        {\n            \"key\": \"test\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"test-1\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"ownerAttributes\": [],\n    \"sessionizers\": [],\n    \"orphans\": {},\n    \"tracked\": {\n        \"objectAttributes\": []\n    },\n    \"enrichers\": {},\n    \"reservedEnrichersFields\": []\n}","x":382,"y":403,"wires":[["e5e1013f.728a8"]]},{"id":"f22a3e0a.221a5","type":"function","z":"394cd83e.c898a8","name":"","func":"return {\"payload\":\n    {\n    \"objectTypes\": [\n        {\n            \"key\": \"test\",\n            \"displayName\": \"test-object_type\",\n            \"description\": \"\",\n            \"objectAttributes\": [\n                {\n                    \"key\": \"color\",\n                    \"displayName\": \"Color\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\",\n                        \"containerType\": \"none\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"eventTypes\": [\n        {\n            \"key\": \"measurement\",\n            \"displayName\": \"Measurement\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"temperature\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"FLOAT\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"ownerAttributes\": [\n        {\n            \"key\": \"gender\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"TEXT\",\n                \"containerType\": \"none\"\n            }\n        },\n        {\n            \"key\": \"age\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"INT\",\n                \"containerType\": \"none\"\n            }\n        },\n    ],\n}\n};","outputs":1,"noerr":0,"x":169,"y":620,"wires":[["17b00401.806f0c"]]},{"id":"2ce7ad9e.d95b42","type":"inject","z":"394cd83e.c898a8","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":81,"y":546,"wires":[["f22a3e0a.221a5"]]},{"id":"3224c016.a0f64","type":"mnubo model","z":"394cd83e.c898a8","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"promoteDatamodel","inputtext":"{\n  \"timeseries\": [\n    \"temperature\"\n  ],\n  \"objectAttributes\": [\n    \"color\"\n  ],\n  \"ownerAttributes\": [\n    \"gender\"\n  ]\n}","x":379,"y":820,"wires":[["40a402b9.27ba8c"]]},{"id":"7d8deb01.488bb4","type":"delay","z":"394cd83e.c898a8","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":479,"y":680,"wires":[["e595ff54.2a70e"]]},{"id":"1b7f245e.3ad6cc","type":"function","z":"394cd83e.c898a8","name":"","func":"return {\n    \"payload\": {\n        \"timeseries\": [\n            \"temperature\"\n        ],\n        \"objectAttributes\": [\n            \"color\"\n        ],\n        \"ownerAttributes\": [\n                \"gender\"\n            ]\n    }\n};","outputs":1,"noerr":0,"x":169,"y":820,"wires":[["3224c016.a0f64"]]},{"id":"2ba91cdf.9903d4","type":"comment","z":"394cd83e.c898a8","name":"This call will fails since there is not Production enviroment set up","info":"","x":458.33338928222656,"y":865.0000953674316,"wires":[]},{"id":"4ddfb284.f64b4c","type":"delay","z":"394cd83e.c898a8","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":500,"wires":[["f22a3e0a.221a5"]]},{"id":"661f50b7.9bab6","type":"comment","z":"394cd83e.c898a8","name":"DATAMODEL","info":"","x":70,"y":500,"wires":[]},{"id":"b1a60b46.e7d618","type":"comment","z":"394cd83e.c898a8","name":"INGESTION","info":"","x":70,"y":900,"wires":[]},{"id":"c14d78f8.c2b9a8","type":"comment","z":"394cd83e.c898a8","name":"SEARCH","info":"","x":80,"y":1680,"wires":[]},{"id":"edae3ec3.75055","type":"comment","z":"394cd83e.c898a8","name":"CLEAN UP","info":"","x":60,"y":160,"wires":[]},{"id":"b9ca83f.ae3098","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":781,"y":289,"wires":[]},{"id":"a62f94d5.07f058","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":781,"y":321,"wires":[]},{"id":"847caf.962aa35","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":615,"y":304,"wires":[["b9ca83f.ae3098"],["a62f94d5.07f058"]]},{"id":"715299c3.c149f8","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":777,"y":389,"wires":[]},{"id":"faec6f09.d146e","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":777,"y":421,"wires":[]},{"id":"e5e1013f.728a8","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":611,"y":404,"wires":[["715299c3.c149f8"],["faec6f09.d146e","4ddfb284.f64b4c"]]},{"id":"8e18daca.ba98b8","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":767,"y":605,"wires":[]},{"id":"42930e34.9515a","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":767,"y":637,"wires":[]},{"id":"3ae6fec1.e25d42","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":601,"y":620,"wires":[["8e18daca.ba98b8"],["42930e34.9515a","7d8deb01.488bb4"]]},{"id":"8972b0d7.ff55b","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":764,"y":724,"wires":[]},{"id":"d1aaab0b.b03288","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":764,"y":756,"wires":[]},{"id":"ad5ae6ed.f652c8","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":598,"y":739,"wires":[["8972b0d7.ff55b"],["d1aaab0b.b03288","1b7f245e.3ad6cc"]]},{"id":"c4707bec.802bd8","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":767,"y":805,"wires":[]},{"id":"6171bf8d.edd73","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":767,"y":837,"wires":[]},{"id":"40a402b9.27ba8c","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":601,"y":820,"wires":[["c4707bec.802bd8","a1c0edc7.5aced"],["6171bf8d.edd73"]]},{"id":"d5460c1a.39ac9","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":769,"y":979,"wires":[]},{"id":"f239f26e.c8d6c","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":769,"y":1011,"wires":[]},{"id":"4e7e6487.d31a7c","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":603,"y":994,"wires":[["d5460c1a.39ac9"],["f239f26e.c8d6c","da5e702c.ebb8f"]]},{"id":"b3d46847.1afd68","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":770,"y":1056,"wires":[]},{"id":"42ed0764.cd8718","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":770,"y":1088,"wires":[]},{"id":"dbff4a56.52bbd8","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":604,"y":1071,"wires":[["b3d46847.1afd68"],["42ed0764.cd8718","6fc4938d.5c4f9c"]]},{"id":"733c4f30.217a","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":768,"y":1141,"wires":[]},{"id":"ac955a21.92c7a8","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":768,"y":1173,"wires":[]},{"id":"da645344.731a2","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":602,"y":1156,"wires":[["733c4f30.217a"],["ac955a21.92c7a8","b784da61.631918"]]},{"id":"f920815b.b5829","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":766,"y":1216,"wires":[]},{"id":"8226ed3e.bbff","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":766,"y":1248,"wires":[]},{"id":"738fae22.388b9","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":600,"y":1231,"wires":[["f920815b.b5829"],["8226ed3e.bbff","a2f77b0b.741338"]]},{"id":"bd20a18.77bef6","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":769,"y":1338,"wires":[]},{"id":"d042a921.d8a0c8","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":769,"y":1370,"wires":[]},{"id":"fdc9724b.c98c4","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":603,"y":1353,"wires":[["bd20a18.77bef6"],["d042a921.d8a0c8"]]},{"id":"a86fed0e.6569a","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":873,"y":1546,"wires":[]},{"id":"590a7d21.30d8b4","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":873,"y":1578,"wires":[]},{"id":"b67b240d.7966d8","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":707,"y":1561,"wires":[["a86fed0e.6569a"],["590a7d21.30d8b4"]]},{"id":"5bc0648.22acd9c","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":763.0000038146973,"y":1723.999948501587,"wires":[]},{"id":"3396ac3c.64fbb4","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":763.0000038146973,"y":1755.999948501587,"wires":[]},{"id":"75c08c6f.2df644","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":597.0000038146973,"y":1738.999948501587,"wires":[["5bc0648.22acd9c"],["3396ac3c.64fbb4","419b0abd.74db94"]]},{"id":"d06134a3.479248","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":764.0000038146973,"y":1801.999948501587,"wires":[]},{"id":"161e8c9f.d334e3","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":764.0000038146973,"y":1833.999948501587,"wires":[]},{"id":"dc39d374.e9202","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":598.0000038146973,"y":1816.999948501587,"wires":[["d06134a3.479248"],["161e8c9f.d334e3","b14cc352.b8241"]]},{"id":"946f71e1.07453","type":"debug","z":"394cd83e.c898a8","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":766.0000038146973,"y":1879.999948501587,"wires":[]},{"id":"c43e882a.1d5528","type":"debug","z":"394cd83e.c898a8","name":"OK","active":true,"console":"false","complete":"payload","x":766.0000038146973,"y":1911.999948501587,"wires":[]},{"id":"e104ffb6.5f63b","type":"switch","z":"394cd83e.c898a8","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":600.0000038146973,"y":1894.999948501587,"wires":[["946f71e1.07453"],["c43e882a.1d5528","5f56922c.f19e6c"]]},{"id":"bab4f73a.dd49d8","type":"function","z":"394cd83e.c898a8","name":"Clear MSG","func":"return {\"payload\": null};","outputs":1,"noerr":0,"x":130,"y":400,"wires":[["f325f655.1d50d8"]]},{"id":"cba2c312.2e62d","type":"debug","z":"394cd83e.c898a8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":560,"y":2020,"wires":[]},{"id":"5f56922c.f19e6c","type":"function","z":"394cd83e.c898a8","name":"DONE","func":"\nreturn {\"payload\": \"DONE\"};","outputs":1,"noerr":0,"x":380,"y":2020,"wires":[["cba2c312.2e62d"]]},{"id":"71b86e36.cac56","type":"comment","z":"394cd83e.c898a8","name":"It may fail the fist time you run it, since the objects is not created... ","info":"","x":580,"y":266,"wires":[]},{"id":"db6203e1.606d5","type":"comment","z":"394cd83e.c898a8","name":"It may fail the fist time you run it, since the owner is not created...","info":"","x":570,"y":351,"wires":[]},{"id":"7e770dbf.06e484","type":"mnubo config","z":"","name":"Integration","env":"sandbox","proxy_url":"","credentials_type":"client_credentials","retries":true,"numberOfAttempts":"5","initialDelayInMillis":"500"},{"id":"925bd588.43e258","type":"mnubo config","z":"","name":"integration-APP TOKEN","env":"sandbox","proxy_url":"https://integration.sandbox.1.mnubo.com","credentials_type":"app_token","retries":true,"numberOfAttempts":"5","initialDelayInMillis":"500"}]
```

#### Example 2: Different Flows

```
[{"id":"5c61c927.4ad558","type":"tab","label":"Authentication"},{"id":"892d6ac6.a94368","type":"tab","label":"Owner","disabled":false},{"id":"7ac1bef6.f9eb","type":"tab","label":"Objects","disabled":false,"info":""},{"id":"280846cf.8ae8da","type":"tab","label":"Events"},{"id":"6a9b76a5.686cb8","type":"subflow","name":"Subflow 1","info":"","in":[],"out":[]},{"id":"58a329f3.b19578","type":"subflow","name":"Subflow 2","info":"","in":[{"x":50,"y":30,"wires":[]}],"out":[]},{"id":"a5256874.0a7af8","type":"subflow","name":"Subflow 1 (2)","info":"","in":[],"out":[]},{"id":"215506dc.88ecba","type":"subflow","name":"Subflow 2 (2)","info":"","in":[{"x":50,"y":30,"wires":[]}],"out":[]},{"id":"7e770dbf.06e484","type":"mnubo config","z":"","name":"Integration","env":"sandbox","proxy_url":"","credentials_type":"client_credentials","retries":false,"numberOfAttempts":"5","initialDelayInMillis":"500"},{"id":"91db3002.c15a5","type":"mqtt-broker","z":"","broker":"","port":"1883","tls":"","clientid":"","usetls":true,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"19a3eccd.899c33","type":"mnubo config","z":"","name":"dataflow","env":"useproxyurl","proxy_url":"https://dataflow.sandbox.1.mnubo.com","credentials_type":"client_credentials","retries":true,"numberOfAttempts":"5","initialDelayInMillis":"500"},{"id":"925bd588.43e258","type":"mnubo config","z":"","name":"integration-APP TOKEN","env":"sandbox","proxy_url":"https://integration.sandbox.1.mnubo.com","credentials_type":"app_token","retries":true,"numberOfAttempts":"5","initialDelayInMillis":"500"},{"id":"b49110c8.5bc37","type":"mnubo auth","z":"5c61c927.4ad558","name":"Get Token","mnuboconfig":"7e770dbf.06e484","x":170,"y":40,"wires":[["ecbe5800.2f8428"]]},{"id":"a378ff96.49f92","type":"function","z":"5c61c927.4ad558","name":"set global env","func":"//Global Variables share by all functions in the diferents Flows\nglobal.set(\"mnubo_variables\", {\n    \"mnubo1\": {\n        \"owner\": \"node-red-owner-1@test.com\",\n        \"object\": \"node-red-device-1\"\n    },\n    \"mnubo2\": {\n        \"owner\": \"node-red-owner-2@test.com\",\n        \"object\": \"node-red-device-2\"\n    },\n    \"mnubo3\": {\n        \"owner\": \"node-red-owner-3@test.com\",\n        \"object\": \"node-red-device-3\"\n    },\n    \"mnubo4\": {\n        \"owner\": \"node-red-owner-4@test.com\",\n        \"object\": \"node-red-device-4\"\n    },\n    \"mnubo5\": {\n        \"owner\": \"node-red-owner-5@test.com\",\n        \"object\":  \"node-red-device-5\"\n    },\n    \"mnubo6\": {\n        \"owner\": \"node-red-owner-6@test.com\",\n        \"object\": \"node-red-device-6\"\n    },\n});\n\nreturn msg;","outputs":1,"noerr":0,"x":539.75,"y":109.75,"wires":[["88e90676.e1d738"]]},{"id":"ecbe5800.2f8428","type":"switch","z":"5c61c927.4ad558","name":"Token != Bearer","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","outputs":2,"x":343.5,"y":40,"wires":[["cc316f26.9f23"],["a378ff96.49f92"]]},{"id":"cc316f26.9f23","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"console":"false","complete":"errors","x":524.5,"y":18,"wires":[]},{"id":"ed141012.5ef56","type":"inject","z":"5c61c927.4ad558","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":170.88889122009277,"y":107.33333778381348,"wires":[["a378ff96.49f92"]]},{"id":"cabfc12e.48066","type":"link in","z":"7ac1bef6.f9eb","name":"Object - From Owner","links":["7b2c4be9.59fe94"],"x":36.11111259460449,"y":55.5555534362793,"wires":[["5c0a23c8.3bc34c"]]},{"id":"5d94d501.96c0bc","type":"function","z":"7ac1bef6.f9eb","name":"Single Creation","func":"return {\"payload\": global.get(\"mnubo_variables\").mnubo1.object};","outputs":1,"noerr":0,"x":233.3333282470703,"y":84.4444375038147,"wires":[["a4cb37fb.bba098"]]},{"id":"48509967.3ec6f8","type":"comment","z":"7ac1bef6.f9eb","name":"Single Creation","info":"","x":100,"y":20,"wires":[]},{"id":"267040a8.26b28","type":"comment","z":"7ac1bef6.f9eb","name":"Bulk Creation","info":"","x":81.11111450195312,"y":184.4444456100464,"wires":[]},{"id":"f92c7967.5c9788","type":"comment","z":"7ac1bef6.f9eb","name":"Single Update","info":"","x":90,"y":460,"wires":[]},{"id":"c83b6268.8e3a8","type":"comment","z":"7ac1bef6.f9eb","name":"Bulk Update","info":"","x":90,"y":620,"wires":[]},{"id":"ca17d8a6.284d58","type":"function","z":"7ac1bef6.f9eb","name":"Bulk Creation (Ok)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo2.object, global.get(\"mnubo_variables\").mnubo3.object]};","outputs":1,"noerr":0,"x":130,"y":220,"wires":[["e6d54e13.2404d"]]},{"id":"b77de4a0.2043b8","type":"function","z":"7ac1bef6.f9eb","name":"Single Update","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object, \n    {\"x_object_type\": \"trunk\"}\n    ]\n};","outputs":1,"noerr":0,"x":100,"y":540,"wires":[["63140a7b.64d304"]]},{"id":"b263c8d6.d419f8","type":"link in","z":"280846cf.8ae8da","name":"Events - Entry Point","links":["60782365.fdc3fc"],"x":15,"y":140,"wires":[["8f1cbada.fef3d8"]]},{"id":"e5ff2470.d982c8","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":660,"y":100,"wires":[["d5bb22f8.c08db"]]},{"id":"8f12d93c.202c68","type":"comment","z":"280846cf.8ae8da","name":"EVENT","info":"","x":70,"y":40,"wires":[]},{"id":"6a12447c.4f424c","type":"function","z":"280846cf.8ae8da","name":"Single Events (Ok)","func":"\nreturn {\"payload\": [{\n    \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n    \"x_event_type\": \"engine_start\",\n    \"x_timestamp\": new Date().toISOString(),\n  }]\n};","outputs":1,"noerr":0,"x":230,"y":200,"wires":[["e5ff2470.d982c8","37e1892e.2bc346","31a98f1f.b2136","b1e1b950.2bec68"]]},{"id":"d3bfa7f6.7c1148","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":682,"y":155,"wires":[["d5bb22f8.c08db"]]},{"id":"9f2e2254.261dc","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":690,"y":201,"wires":[["d5bb22f8.c08db"]]},{"id":"38c770af.f1d49","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":680,"y":246,"wires":[["d5bb22f8.c08db","1715ede0.865d82"]]},{"id":"d8e42a84.0811b8","type":"inject","z":"280846cf.8ae8da","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":90,"y":240,"wires":[["6a12447c.4f424c"]]},{"id":"37e1892e.2bc346","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":494.5,"y":155,"wires":[["d3bfa7f6.7c1148"]]},{"id":"31a98f1f.b2136","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":500,"y":202,"wires":[["9f2e2254.261dc"]]},{"id":"b1e1b950.2bec68","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":500,"y":247,"wires":[["38c770af.f1d49"]]},{"id":"12794563.63fa4b","type":"mnubo analytics","z":"280846cf.8ae8da","name":"Seach Query","mnuboconfig":"7e770dbf.06e484","searchtype":"SearchQuery","inputquery":"","x":547.6666717529297,"y":2362.0000133514404,"wires":[["bca571ec.f8073"]]},{"id":"c563ed6c.88bb7","type":"function","z":"280846cf.8ae8da","name":"Count Events","func":"\nreturn {\"payload\": \n    {\n        \"from\": \"event\",\n        \"select\": [{\n            \"count\": \"*\"\n        }]\n    }\n};","outputs":1,"noerr":0,"x":316.8888969421387,"y":2361.1111488342285,"wires":[["12794563.63fa4b"]]},{"id":"838e165.03f25e8","type":"comment","z":"280846cf.8ae8da","name":"SEARCH","info":"","x":105,"y":2321,"wires":[]},{"id":"47c08a.4b35ff78","type":"inject","z":"280846cf.8ae8da","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":120,"y":2540,"wires":[["c563ed6c.88bb7","40487989.8c6578","78cfe36a.62ba1c"]]},{"id":"87db74eb.50f058","type":"mnubo analytics","z":"280846cf.8ae8da","name":"Get DataModel","mnuboconfig":"7e770dbf.06e484","searchtype":"getDatamodel","inputquery":"","x":539.8888959884644,"y":2446.4446630477905,"wires":[["29774dfa.36d532"]]},{"id":"93d5f210.8f0fb","type":"mnubo analytics","z":"280846cf.8ae8da","name":"Get Dataset","mnuboconfig":"7e770dbf.06e484","searchtype":"getDatasets","inputquery":"","x":529.5555725097656,"y":2538.888997077942,"wires":[["b2e4f082.2e435"]]},{"id":"40487989.8c6578","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":336.44444274902344,"y":2446.777970314026,"wires":[["87db74eb.50f058"]]},{"id":"78cfe36a.62ba1c","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":336.66666412353516,"y":2537.7776622772217,"wires":[["93d5f210.8f0fb"]]},{"id":"aa83f51f.7d4578","type":"inject","z":"7ac1bef6.f9eb","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":100,"y":140,"wires":[["5d94d501.96c0bc"]]},{"id":"45704535.0259bc","type":"function","z":"892d6ac6.a94368","name":"Single Creation","func":"msg.payload = global.get(\"mnubo_variables\").mnubo1.owner;\nreturn msg;","outputs":1,"noerr":0,"x":155,"y":99,"wires":[["7884f8b.4949508"]]},{"id":"7884f8b.4949508","type":"mnubo owners","z":"892d6ac6.a94368","name":"Exists","mnuboconfig":"925bd588.43e258","functionselection":"exists","inputtext":"owner-1","x":330,"y":100,"wires":[["6cfb3f8d.57035"]]},{"id":"f01ff96.6f5dd08","type":"link in","z":"892d6ac6.a94368","name":"Owner - Entry Point","links":["88e90676.e1d738"],"x":35,"y":60,"wires":[["792558f8.541028"]]},{"id":"21558241.8eaabe","type":"comment","z":"892d6ac6.a94368","name":"Single Creation","info":"","x":80,"y":20,"wires":[]},{"id":"a0b72e3f.36cce","type":"comment","z":"892d6ac6.a94368","name":"Bulk Creation","info":"","x":90,"y":180,"wires":[]},{"id":"80fb1e9.83ba1e","type":"comment","z":"892d6ac6.a94368","name":"Single Update","info":"","x":70,"y":440,"wires":[]},{"id":"e5153f03.12874","type":"comment","z":"892d6ac6.a94368","name":"Bulk Update","info":"","x":70,"y":580,"wires":[]},{"id":"4aa5cba.2930634","type":"function","z":"892d6ac6.a94368","name":"Bulk Creation (Ok)","func":"msg.payload = [global.get(\"mnubo_variables\").mnubo2.owner, global.get(\"mnubo_variables\").mnubo3.owner];\n\nreturn msg;","outputs":1,"noerr":0,"x":176.5,"y":216.5555362701416,"wires":[["9f2b8a00.6f1428"]]},{"id":"6a79db3f.dfd764","type":"function","z":"892d6ac6.a94368","name":"Single Update","func":"return {\"payload\":[\n    global.get(\"mnubo_variables\").mnubo1.owner, \n    {\n        \"age\": 21,\n        'x_timestamp': new Date().toISOString()\n    }\n    ]\n};","outputs":1,"noerr":0,"x":140,"y":520,"wires":[["3e9fc547.30636a"]]},{"id":"2b408540.0d607a","type":"function","z":"892d6ac6.a94368","name":"Bulk Update (Ok)","func":"msg.payload = [\n    {\n      \"username\": global.get(\"mnubo_variables\").mnubo2.owner,\n      \"age\": 52,\n      'x_timestamp': new Date().toISOString()\n    },\n    {\n      \"username\": global.get(\"mnubo_variables\").mnubo3.owner,\n      \"age\": 29,\n      'x_timestamp': new Date().toISOString()\n    }\n];\nreturn msg;\n","outputs":1,"noerr":0,"x":110,"y":640,"wires":[["a1d76d00.cf778"]]},{"id":"3e9fc547.30636a","type":"mnubo owners","z":"892d6ac6.a94368","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":320,"y":520,"wires":[["4fc2224c.8d943c"]]},{"id":"89a9557c.748b68","type":"function","z":"892d6ac6.a94368","name":"Bulk Update (Multiple Status)","func":"msg.payload = [{\n  \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n  \"gender\": \"male\",\n  'x_timestamp': new Date().toISOString()\n},\n{\n  \"username\": global.get(\"mnubo_variables\").mnubo5.owner,\n  \"age\": 35,\n  'x_timestamp': new Date().toISOString()\n}\n];\nreturn msg;\n","outputs":1,"noerr":0,"x":140,"y":720,"wires":[["fed431f2.0a8c5"]]},{"id":"c3bdbcfb.1068f","type":"comment","z":"892d6ac6.a94368","name":"Single Claim","info":"","x":70,"y":860,"wires":[]},{"id":"eef8aae5.5035e8","type":"comment","z":"892d6ac6.a94368","name":"Bulk Claim","info":"","x":60,"y":1040,"wires":[]},{"id":"fec8e7d0.0cd178","type":"function","z":"892d6ac6.a94368","name":"Single Claim","func":"return {\n    \"payload\":  [global.get(\"mnubo_variables\").mnubo1.owner, global.get(\"mnubo_variables\").mnubo1.object ]\n};","outputs":1,"noerr":0,"x":190,"y":940,"wires":[["a3df9ec3.4a44c"]]},{"id":"a3df9ec3.4a44c","type":"mnubo owners","z":"892d6ac6.a94368","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":430,"y":940,"wires":[["dc681bf8.68af18"]]},{"id":"1d28b64a.9d43ea","type":"inject","z":"892d6ac6.a94368","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":80,"y":140,"wires":[["45704535.0259bc"]]},{"id":"1b1a4a3a.53b2e6","type":"inject","z":"892d6ac6.a94368","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":80,"y":480,"wires":[["6a79db3f.dfd764"]]},{"id":"4185acf4.bdaae4","type":"function","z":"892d6ac6.a94368","name":"exists?","func":"if (msg.payload[global.get(\"mnubo_variables\").mnubo1.owner]) {\n    return [msg, null]\n}\nelse {\n    return [null, {\n        \"payload\": {\n            \"username\": global.get(\"mnubo_variables\").mnubo1.owner,\n        }\n    }]\n}","outputs":2,"noerr":0,"x":600,"y":100,"wires":[["33f107ab.eef1b8"],["24a5c228.871dce"]],"outputLabels":["Alredy exists","Does not exists"]},{"id":"6cfb3f8d.57035","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":460,"y":99,"wires":[["bfa0be9.d6d164"],["4185acf4.bdaae4"]]},{"id":"bfa0be9.d6d164","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":570,"y":20,"wires":[]},{"id":"24a5c228.871dce","type":"mnubo owners","z":"892d6ac6.a94368","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":750,"y":102,"wires":[["6c407046.5198f"]]},{"id":"33f107ab.eef1b8","type":"debug","z":"892d6ac6.a94368","name":"    Owner Exists","active":true,"tosidebar":true,"console":false,"complete":"payload","x":750,"y":20,"wires":[]},{"id":"6c407046.5198f","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":880,"y":102,"wires":[["ff6695d0.8f6d88"],["9bf6b1f4.2bc69","4aa5cba.2930634"]]},{"id":"ff6695d0.8f6d88","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":990,"y":20,"wires":[]},{"id":"9bf6b1f4.2bc69","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":1030,"y":100,"wires":[]},{"id":"9f2b8a00.6f1428","type":"mnubo owners","z":"892d6ac6.a94368","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"owner-1","x":365,"y":218.2222137451172,"wires":[["664d6b22.9f2ea4"]]},{"id":"664d6b22.9f2ea4","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":495,"y":218.2222137451172,"wires":[["6538bab5.5ba064"],["bd1a24e5.aeff58"]],"outputLabels":["Error","Ok"]},{"id":"6538bab5.5ba064","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":605,"y":182.2222137451172,"wires":[]},{"id":"50b99721.a67ba8","type":"function","z":"892d6ac6.a94368","name":"Bulk Creation (Multi Status)","func":"msg.payload = [global.get(\"mnubo_variables\").mnubo4.owner, global.get(\"mnubo_variables\").mnubo5.owner];\n\nreturn msg;","outputs":1,"noerr":0,"x":175,"y":302.2222137451172,"wires":[["a3bc2898.84ecb8"]]},{"id":"a3bc2898.84ecb8","type":"mnubo owners","z":"892d6ac6.a94368","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"owner-1","x":373.5,"y":303.8888912200928,"wires":[["9ce49aee.162bd8"]]},{"id":"9ce49aee.162bd8","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":503.5,"y":303.8888912200928,"wires":[["2d142ea6.38b242"],["f73ab1f6.fff89"]]},{"id":"2d142ea6.38b242","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":613.5,"y":267.8888912200928,"wires":[]},{"id":"bd1a24e5.aeff58","type":"function","z":"892d6ac6.a94368","name":"Create Body","func":"var owner_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    owner_to_create.push(\n        {\n            'username': Object.keys(el)[0],\n            'x_password': \"MnuboDummyPassword\",\n            'x_registration_date': new Date().toISOString()\n        });\n})\n\nreturn {\"payload\": owner_to_create}","outputs":1,"noerr":0,"x":653,"y":225.2222137451172,"wires":[["aa19b6d2.c2cac8"]]},{"id":"aa19b6d2.c2cac8","type":"mnubo owners","z":"892d6ac6.a94368","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":819,"y":226.2222137451172,"wires":[["345c5099.c193e"]]},{"id":"345c5099.c193e","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":949,"y":226.2222137451172,"wires":[["fc843ae8.57e648"],["f8c19d67.5028f","50b99721.a67ba8"]]},{"id":"fc843ae8.57e648","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":1079,"y":204.2222137451172,"wires":[]},{"id":"f8c19d67.5028f","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":1079,"y":244.2222137451172,"wires":[]},{"id":"f73ab1f6.fff89","type":"function","z":"892d6ac6.a94368","name":"Create Body","func":"var owner_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    if (index) {\n        owner_to_create.push(\n            {\n                'username': Object.keys(el)[0],\n                'x_password': \"MnuboDummyPassword\",\n                'x_registration_date': new Date().toISOString()\n            })\n        \n    } else { //Build one bad request\n        owner_to_create.push(\n            {\n                'username': Object.keys(el)[0],\n                'x_registration_date': new Date().toISOString(),\n                'gender': \"male\"\n            })\n    }\n})\n\nreturn {\"payload\": owner_to_create}","outputs":1,"noerr":0,"x":656,"y":310.2222137451172,"wires":[["f1c0d5e7.f85b58"]]},{"id":"f1c0d5e7.f85b58","type":"mnubo owners","z":"892d6ac6.a94368","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":824,"y":309.2222137451172,"wires":[["8aa6d926.0c35d8"]]},{"id":"8aa6d926.0c35d8","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":954,"y":309.2222137451172,"wires":[["d8038f7e.ca49f","1aa87fcd.b830d"],["113a417a.5cb32f"]]},{"id":"d8038f7e.ca49f","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1084,"y":287.2222137451172,"wires":[]},{"id":"113a417a.5cb32f","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":1084,"y":327.2222137451172,"wires":[]},{"id":"4fc2224c.8d943c","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":520,"wires":[["f9a72f87.8f571"],["a2dd9a32.d06398","2b408540.0d607a"]]},{"id":"f9a72f87.8f571","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":498,"wires":[]},{"id":"a2dd9a32.d06398","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":538,"wires":[]},{"id":"42951959.70fc28","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":640,"wires":[["ddaacc8e.83d46"],["ff165acd.b7a2b8","89a9557c.748b68"]]},{"id":"ddaacc8e.83d46","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":618,"wires":[]},{"id":"ff165acd.b7a2b8","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":658,"wires":[]},{"id":"a1d76d00.cf778","type":"mnubo owners","z":"892d6ac6.a94368","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":320,"y":640,"wires":[["42951959.70fc28"]]},{"id":"ccc1ea8c.8044e8","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":540,"y":720,"wires":[["4a805b8.4863ea4","c0dfc92c.6ad478"],["ff7acf91.77a0a"]]},{"id":"4a805b8.4863ea4","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":670,"y":698,"wires":[]},{"id":"ff7acf91.77a0a","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":670,"y":738,"wires":[]},{"id":"fed431f2.0a8c5","type":"mnubo owners","z":"892d6ac6.a94368","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":380,"y":720,"wires":[["ccc1ea8c.8044e8"]]},{"id":"185499ba.b8f5c6","type":"inject","z":"892d6ac6.a94368","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":80,"y":980,"wires":[["fec8e7d0.0cd178"]]},{"id":"c0dfc92c.6ad478","type":"function","z":"892d6ac6.a94368","name":"Bulk Update (All Fail)","func":"return {\"payload\":[\n    {\n        \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n        \"gender\": \"male\",\n        'x_timestamp': new Date().toISOString()\n    },\n    {\n        \"username\": global.get(\"mnubo_variables\").mnubo6.owner,\n        \"age\": 35,\n        \"gender\": \"male\",\n        'x_timestamp': new Date().toISOString()\n    }\n    ]\n};\n","outputs":1,"noerr":0,"x":120,"y":800,"wires":[["991d1b38.441fb8"]]},{"id":"12e4911c.0c0f4f","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":540,"y":800,"wires":[["afcd2cbd.08173","7b2c4be9.59fe94"],["a15ccdf1.3e237"]]},{"id":"afcd2cbd.08173","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":670,"y":778,"wires":[]},{"id":"a15ccdf1.3e237","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":670,"y":818,"wires":[]},{"id":"991d1b38.441fb8","type":"mnubo owners","z":"892d6ac6.a94368","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":380,"y":800,"wires":[["12e4911c.0c0f4f"]]},{"id":"1aa87fcd.b830d","type":"function","z":"892d6ac6.a94368","name":"Bulk Creation (All Fail)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo1.owner, global.get(\"mnubo_variables\").mnubo2.owner, global.get(\"mnubo_variables\").mnubo6.owner]};","outputs":1,"noerr":0,"x":155,"y":382.2222137451172,"wires":[["59d248b2.71a0d8"]]},{"id":"59d248b2.71a0d8","type":"mnubo owners","z":"892d6ac6.a94368","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"owner-1","x":373.5,"y":383.8888912200928,"wires":[["9b8504b0.ca6b68"]]},{"id":"9b8504b0.ca6b68","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":503.5,"y":383.8888912200928,"wires":[["394f44d1.f5c1dc"],["f0f05a73.603b28"]]},{"id":"10d9aca2.4499d3","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":954,"y":385.2222137451172,"wires":[["5f83962a.7fbce8","6a79db3f.dfd764"],["9bf52c70.919b5"]]},{"id":"5f83962a.7fbce8","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1084,"y":363.2222137451172,"wires":[]},{"id":"9bf52c70.919b5","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":1085,"y":418.2222137451172,"wires":[]},{"id":"f0f05a73.603b28","type":"function","z":"892d6ac6.a94368","name":"Create Body","func":"var owner_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    owner_to_create.push(\n        {\n            'username': Object.keys(el)[0],\n            'x_registration_date': new Date().toISOString(),\n            \"gender\": \"Male\"\n        });\n})\n\nreturn {\"payload\": owner_to_create}","outputs":1,"noerr":0,"x":656,"y":384.2222137451172,"wires":[["4358ede4.7811d4"]]},{"id":"4358ede4.7811d4","type":"mnubo owners","z":"892d6ac6.a94368","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":823,"y":384.2222137451172,"wires":[["10d9aca2.4499d3"]]},{"id":"394f44d1.f5c1dc","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":608,"y":345.2222137451172,"wires":[]},{"id":"7b2c4be9.59fe94","type":"link out","z":"892d6ac6.a94368","name":"Owner - Bulk Update (all Fail)","links":["cabfc12e.48066"],"x":790.55553150177,"y":792.2222261428833,"wires":[]},{"id":"70de919e.664cf","type":"function","z":"7ac1bef6.f9eb","name":"exists?","func":"if (msg.payload[global.get(\"mnubo_variables\").mnubo1.object]) {\n    return [msg, null]\n}\nelse {\n    return [null, {\n        \"payload\": {\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object,\n            'x_object_type': \"car\",\n            'x_registration_date': new Date().toISOString(),\n            'x_registration_latitude': -34.586547,\n        \t'x_registration_longitude': -58.398396,\n            \n        }\n    }]\n}","outputs":2,"noerr":0,"x":667,"y":84.11110925674438,"wires":[["286ac26a.cbb29e"],["fe28dc3b.af5f7"]],"outputLabels":["Alredy exists","Does not exists"]},{"id":"10a84f51.b04171","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":527,"y":83.11110925674438,"wires":[["5177e49.0142b1c"],["70de919e.664cf"]]},{"id":"5177e49.0142b1c","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":595,"y":41.111109256744385,"wires":[]},{"id":"286ac26a.cbb29e","type":"debug","z":"7ac1bef6.f9eb","name":"    Owner Exists","active":true,"tosidebar":true,"console":false,"complete":"payload","x":775,"y":41.111109256744385,"wires":[]},{"id":"a6c19397.4877","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":947,"y":86.11110925674438,"wires":[["7f6c2605.6ed7b8"],["5f2e46f2.acc338","ca17d8a6.284d58"]]},{"id":"7f6c2605.6ed7b8","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1055,"y":41.111109256744385,"wires":[]},{"id":"5f2e46f2.acc338","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":1077,"y":82.11110925674438,"wires":[]},{"id":"fe28dc3b.af5f7","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":818,"y":86.11110925674438,"wires":[["a6c19397.4877"]]},{"id":"a4cb37fb.bba098","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":399,"y":83.11110925674438,"wires":[["10a84f51.b04171"]]},{"id":"466b1df2.0cca84","type":"function","z":"7ac1bef6.f9eb","name":"Create Body","func":"var objects_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    objects_to_create.push(\n        {\n            'x_device_id': Object.keys(el)[0],\n            'x_object_type': \"car\",\n            'x_registration_date': new Date().toISOString(),\n            'x_registration_latitude': -34.586547,\n        \t'x_registration_longitude': -58.398396\n        });\n})\n\nreturn {\"payload\": objects_to_create}","outputs":1,"noerr":0,"x":648,"y":220,"wires":[["d91a09ae.2b39f8"]],"outputLabels":["Alredy exists"]},{"id":"2f59801c.10274","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":498,"y":219,"wires":[["f36c9e2a.e36ce"],["466b1df2.0cca84"]]},{"id":"f36c9e2a.e36ce","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":588,"y":180,"wires":[]},{"id":"d002a215.d1799","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":934,"y":222,"wires":[["73f6cb04.ad5394"],["f5880198.adee6","7ff7229d.56218c"]]},{"id":"73f6cb04.ad5394","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1032,"y":179,"wires":[]},{"id":"f5880198.adee6","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":1064,"y":218,"wires":[]},{"id":"d91a09ae.2b39f8","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":805,"y":222,"wires":[["d002a215.d1799"]]},{"id":"e6d54e13.2404d","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":370,"y":219,"wires":[["2f59801c.10274"]]},{"id":"7ff7229d.56218c","type":"function","z":"7ac1bef6.f9eb","name":"Bulk Creation (Multi Status)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo4.object, global.get(\"mnubo_variables\").mnubo5.object]};","outputs":1,"noerr":0,"x":160,"y":310,"wires":[["4c6de8d7.19dc08"]]},{"id":"dbf5eb7a.4dbc58","type":"function","z":"7ac1bef6.f9eb","name":"Create Body","func":"var objects_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    if (index) {\n        objects_to_create.push(\n            {\n                'x_device_id': Object.keys(el)[0],\n                'x_object_type': \"car\",\n                'x_registration_date': new Date().toISOString(),\n                'x_registration_latitude': -36.183644,\n            \t'x_registration_longitude': -68.898592\n            })\n        \n    } else { //Build one bad request\n        objects_to_create.push(\n            {\n                'x_device_id': Object.keys(el)[0],\n                'x_registration_date': new Date().toISOString(),\n                'x_registration_latitude': -36.183644,\n            \t'x_registration_longitude': -68.898592\n            })\n    }\n})\n\nreturn {\"payload\": objects_to_create}","outputs":1,"noerr":0,"x":650,"y":310,"wires":[["b098a73b.fd73c8"]],"outputLabels":["Alredy exists"]},{"id":"d5265534.aeb868","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":309,"wires":[["4e5f3ba0.d70aa4"],["dbf5eb7a.4dbc58"]]},{"id":"4e5f3ba0.d70aa4","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":590,"y":270,"wires":[]},{"id":"f0a8aeec.328b7","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":936,"y":312,"wires":[["a2898805.51f878","c2d21c74.7408d"],["f5c2cf80.d53eb"]]},{"id":"a2898805.51f878","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1030,"y":269,"wires":[]},{"id":"f5c2cf80.d53eb","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":1070,"y":310,"wires":[]},{"id":"b098a73b.fd73c8","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":807,"y":312,"wires":[["f0a8aeec.328b7"]]},{"id":"4c6de8d7.19dc08","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":372,"y":309,"wires":[["d5265534.aeb868"]]},{"id":"c2d21c74.7408d","type":"function","z":"7ac1bef6.f9eb","name":"Bulk Creation (All Fail)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo1.object, global.get(\"mnubo_variables\").mnubo6.object]};","outputs":1,"noerr":0,"x":140,"y":400,"wires":[["c99fc321.c5c35"]]},{"id":"65bcd7e6.bdb5f8","type":"function","z":"7ac1bef6.f9eb","name":"Create Body","func":"return {\n    \"payload\": [\n        {\n        \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n        'x_registration_date': new Date().toISOString(),\n        'x_registration_latitude': -34.586547,\n    \t'x_registration_longitude': -58.398396\n    },\n    {\n        \"x_device_id\": global.get(\"mnubo_variables\").mnubo6.object,\n        'x_registration_date': new Date().toISOString(),\n        'x_registration_latitude': -36.183644,\n    \t'x_registration_longitude': -68.898592\n    }\n    ]\n}\n","outputs":1,"noerr":0,"x":650,"y":400,"wires":[["8df745a7.0127f8"]],"outputLabels":["Alredy exists"]},{"id":"50571c6d.b6e144","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":399,"wires":[["a6428486.274698"],["65bcd7e6.bdb5f8"]]},{"id":"a6428486.274698","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":590,"y":360,"wires":[]},{"id":"63ae205b.d5ff6","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":936,"y":402,"wires":[["949fa3e9.3e2d9","b77de4a0.2043b8"],["511cea44.c3c514"]]},{"id":"949fa3e9.3e2d9","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1032,"y":360,"wires":[]},{"id":"511cea44.c3c514","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":1066,"y":398,"wires":[]},{"id":"8df745a7.0127f8","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":807,"y":402,"wires":[["63ae205b.d5ff6"]]},{"id":"c99fc321.c5c35","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":372,"y":399,"wires":[["50571c6d.b6e144"]]},{"id":"68d4a553.38844c","type":"inject","z":"7ac1bef6.f9eb","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":100,"y":500,"wires":[["b77de4a0.2043b8"]]},{"id":"63140a7b.64d304","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":300,"y":540,"wires":[["86444156.09bb3"]]},{"id":"86444156.09bb3","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":440,"y":540,"wires":[["6f9eff4e.a2af"],["f1f57b6.29cfc88","7603c394.145cac"]]},{"id":"6f9eff4e.a2af","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":570,"y":518,"wires":[]},{"id":"f1f57b6.29cfc88","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":570,"y":558,"wires":[]},{"id":"7603c394.145cac","type":"function","z":"7ac1bef6.f9eb","name":"Bulk Update (Ok)","func":"return {\n    \"payload\": [\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo2.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n\n        },\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo3.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n        }\n        ]\n};","outputs":1,"noerr":0,"x":110,"y":660,"wires":[["869571c7.7dbdb"]]},{"id":"869571c7.7dbdb","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":364,"y":660,"wires":[["2377f7f2.b66cf8"]]},{"id":"2377f7f2.b66cf8","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":504,"y":660,"wires":[["97392630.da3578"],["4b3feeb2.70bfa","f1c7327b.9c0ac"]]},{"id":"97392630.da3578","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":634,"y":638,"wires":[]},{"id":"4b3feeb2.70bfa","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":634,"y":678,"wires":[]},{"id":"f1c7327b.9c0ac","type":"function","z":"7ac1bef6.f9eb","name":"Bulk Update (Multi Status)","func":"return {\n    \"payload\": [\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo4.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n            'make': \"bmw\"\n\n        },\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo5.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n        }\n        ]\n};","outputs":1,"noerr":0,"x":140,"y":740,"wires":[["1383b1b5.4d8a1e"]]},{"id":"1383b1b5.4d8a1e","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":364,"y":740,"wires":[["62ee9b88.9125b4"]]},{"id":"62ee9b88.9125b4","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":504,"y":740,"wires":[["6ee7683e.884918","1b90c717.c1d2d9"],["ef2f9ff.c5fad6"]]},{"id":"6ee7683e.884918","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":634,"y":718,"wires":[]},{"id":"ef2f9ff.c5fad6","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":634,"y":758,"wires":[]},{"id":"1b90c717.c1d2d9","type":"function","z":"7ac1bef6.f9eb","name":"Bulk Update (All Fail)","func":"return {\n    \"payload\": [\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo5.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n            'make': \"bmw\"\n        },\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo6.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n            'make': \"bmw\"\n        }\n        ]\n};","outputs":1,"noerr":0,"x":120,"y":820,"wires":[["6031dcf1.3cbaa4"]]},{"id":"6031dcf1.3cbaa4","type":"mnubo objects","z":"7ac1bef6.f9eb","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":364,"y":820,"wires":[["f11e7c96.5e62e"]]},{"id":"f11e7c96.5e62e","type":"switch","z":"7ac1bef6.f9eb","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":504,"y":820,"wires":[["2d5560ac.a2dcf","c2cdaccd.d3079"],["885b151c.961c58"]]},{"id":"2d5560ac.a2dcf","type":"debug","z":"7ac1bef6.f9eb","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":634,"y":798,"wires":[]},{"id":"885b151c.961c58","type":"debug","z":"7ac1bef6.f9eb","name":"OK","active":true,"console":"false","complete":"payload","x":634,"y":838,"wires":[]},{"id":"c2cdaccd.d3079","type":"link out","z":"7ac1bef6.f9eb","name":"Object - Bulk Update (all Fail)","links":["b7575718.964f78"],"x":876.1110992431641,"y":814.4444494247437,"wires":[]},{"id":"b7575718.964f78","type":"link in","z":"892d6ac6.a94368","name":"Owner - Single Claim","links":["c2cdaccd.d3079"],"x":35,"y":900,"wires":[["773bd4fb.44e49c"]]},{"id":"dc681bf8.68af18","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":580,"y":940,"wires":[["146a97da.69f848"],["9ae61fc5.c6c85","733c31e5.d42bf"]]},{"id":"146a97da.69f848","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":710,"y":918,"wires":[]},{"id":"9ae61fc5.c6c85","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":710,"y":958,"wires":[]},{"id":"733c31e5.d42bf","type":"function","z":"892d6ac6.a94368","name":"Bulk Claim (Ok)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo2.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo3.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo3.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":100,"y":1080,"wires":[["274ec70.d25883a"]]},{"id":"274ec70.d25883a","type":"mnubo owners","z":"892d6ac6.a94368","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":330,"y":1080,"wires":[["fb8f2031.1979a"]]},{"id":"fb8f2031.1979a","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":1080,"wires":[["6cc91b0b.e6a094"],["4b4ca64a.860418","ca898de3.375f5"]]},{"id":"6cc91b0b.e6a094","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":1058,"wires":[]},{"id":"4b4ca64a.860418","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":1098,"wires":[]},{"id":"ca898de3.375f5","type":"function","z":"892d6ac6.a94368","name":"Bulk Claim (Multi Status)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo5.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo5.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":130,"y":1160,"wires":[["5d3ef7b7.513278"]]},{"id":"5d3ef7b7.513278","type":"mnubo owners","z":"892d6ac6.a94368","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":330,"y":1160,"wires":[["f18078bc.8691e8"]]},{"id":"f18078bc.8691e8","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":1160,"wires":[["2c6c9617.12980a","3d527bcf.1fad44"],["b24918f8.a602b8"]]},{"id":"2c6c9617.12980a","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":1138,"wires":[]},{"id":"b24918f8.a602b8","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":1178,"wires":[]},{"id":"3d527bcf.1fad44","type":"function","z":"892d6ac6.a94368","name":"Bulk Claim (All Fail)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo6.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo6.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":110,"y":1240,"wires":[["2297f7c7.f40bd8"]]},{"id":"2297f7c7.f40bd8","type":"mnubo owners","z":"892d6ac6.a94368","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":330,"y":1240,"wires":[["edd6ea4f.e7ebb8"]]},{"id":"edd6ea4f.e7ebb8","type":"switch","z":"892d6ac6.a94368","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":1240,"wires":[["2a362944.f177b6","60782365.fdc3fc"],["be9a850d.534988"]]},{"id":"2a362944.f177b6","type":"debug","z":"892d6ac6.a94368","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":1218,"wires":[]},{"id":"be9a850d.534988","type":"debug","z":"892d6ac6.a94368","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":1258,"wires":[]},{"id":"60782365.fdc3fc","type":"link out","z":"892d6ac6.a94368","name":"Owner - Bulk Claim (all Fail)","links":["b263c8d6.d419f8"],"x":717.2222561836243,"y":1234.4445209503174,"wires":[]},{"id":"af66d42e.a3f158","type":"comment","z":"892d6ac6.a94368","name":"Go to 'Single Creation' (Objects)","info":"","x":936.6666650772095,"y":814.4445104598999,"wires":[]},{"id":"26bf78.d76ff088","type":"comment","z":"892d6ac6.a94368","name":"Go to Send Events","info":"","x":832.2222561836243,"y":1254.4445209503174,"wires":[]},{"id":"d5bb22f8.c08db","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":880,"y":180,"wires":[["6984a69.4c45258"],["c9dd96f8.4e85a8"]]},{"id":"6984a69.4c45258","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1010,"y":158,"wires":[]},{"id":"c9dd96f8.4e85a8","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":1010,"y":198,"wires":[]},{"id":"aa9dfa4f.ef5838","type":"comment","z":"280846cf.8ae8da","name":"Single Event","info":"","x":70,"y":80,"wires":[]},{"id":"ca2769cb.ead6f8","type":"comment","z":"280846cf.8ae8da","name":"Bulk Event","info":"","x":60,"y":560,"wires":[]},{"id":"31d6aada.6123e6","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":560,"y":360,"wires":[["8d64044f.806758"]]},{"id":"1715ede0.865d82","type":"function","z":"280846cf.8ae8da","name":"Single Events (Fail)","func":"\nreturn {\"payload\": [{\n    \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object },\n    \"x_event_type\": \"speed_report\",\n    \"x_timestamp\": new Date().toISOString(),\n    \"speed\": 25.4\n  }]\n};","outputs":1,"noerr":0,"x":130,"y":460,"wires":[["31d6aada.6123e6","450be639.6e08a8","fa62f3ff.67963","505b2ecc.a0c87"]]},{"id":"c4e30bc3.795e68","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":582,"y":415,"wires":[["8d64044f.806758"]]},{"id":"5e823763.1c18b8","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":590,"y":461,"wires":[["8d64044f.806758"]]},{"id":"47cd5122.c4696","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":580,"y":506,"wires":[["8d64044f.806758","7fe94b65.f772b4"]]},{"id":"450be639.6e08a8","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":394.5,"y":415,"wires":[["c4e30bc3.795e68"]]},{"id":"fa62f3ff.67963","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":462,"wires":[["5e823763.1c18b8"]]},{"id":"505b2ecc.a0c87","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":507,"wires":[["47cd5122.c4696"]]},{"id":"8d64044f.806758","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":780,"y":440,"wires":[["5e92099c.7d5388"],["689b74e0.3ebfbc"]]},{"id":"5e92099c.7d5388","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":910,"y":418,"wires":[]},{"id":"689b74e0.3ebfbc","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":910,"y":458,"wires":[]},{"id":"240b4b25.e0fd34","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":580,"wires":[["e706d0ba.fc853"]]},{"id":"7fe94b65.f772b4","type":"function","z":"280846cf.8ae8da","name":"Bulk Events (Ok)","func":"\nreturn {\"payload\": [\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    },\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    }]\n};","outputs":1,"noerr":0,"x":100,"y":680,"wires":[["240b4b25.e0fd34","a40db258.ca0a7","2a2e48f9.8f0478","d11c70f7.150f9"]]},{"id":"26ba1871.9621c8","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":635,"wires":[["e706d0ba.fc853"]]},{"id":"2749b908.293216","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":681,"wires":[["e706d0ba.fc853"]]},{"id":"fb883fed.a09ba","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":726,"wires":[["e706d0ba.fc853","1d8f5d39.85d2c3"]]},{"id":"a40db258.ca0a7","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":635,"wires":[["26ba1871.9621c8"]]},{"id":"2a2e48f9.8f0478","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":682,"wires":[["2749b908.293216"]]},{"id":"d11c70f7.150f9","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":727,"wires":[["fb883fed.a09ba"]]},{"id":"e706d0ba.fc853","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":660,"wires":[["6a1daea5.9f57e"],["39f96374.26493c"]]},{"id":"6a1daea5.9f57e","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":638,"wires":[]},{"id":"39f96374.26493c","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":678,"wires":[]},{"id":"8b074f6e.f6a5a","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":980,"wires":[["91891aea.284378"]]},{"id":"8f5d1880.50fa68","type":"function","z":"280846cf.8ae8da","name":"Bulk Events (All Fail)","func":"\nreturn {\"payload\": [\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    },\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object },\n        \"x_event_type\": \"seed_report\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    }]\n};","outputs":1,"noerr":0,"x":120,"y":1080,"wires":[["8b074f6e.f6a5a","c43e2bca.6d9108","27bc7e85.4a8ea2","1a08b18b.7b40de"]]},{"id":"ca32a7a9.06d158","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":1035,"wires":[["91891aea.284378"]]},{"id":"fa36767c.113c18","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":1081,"wires":[["91891aea.284378"]]},{"id":"de15d0a8.bd63a","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":1126,"wires":[["91891aea.284378","43422e19.54ea3"]]},{"id":"c43e2bca.6d9108","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":1035,"wires":[["ca32a7a9.06d158"]]},{"id":"27bc7e85.4a8ea2","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1082,"wires":[["fa36767c.113c18"]]},{"id":"1a08b18b.7b40de","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1127,"wires":[["de15d0a8.bd63a"]]},{"id":"91891aea.284378","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":1060,"wires":[["281a405c.5b61b"],["5f937654.997888"]]},{"id":"281a405c.5b61b","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":1038,"wires":[]},{"id":"5f937654.997888","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":1078,"wires":[]},{"id":"e906612f.09b7","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":780,"wires":[["3e2b6ef8.6ccbd2"]]},{"id":"1d8f5d39.85d2c3","type":"function","z":"280846cf.8ae8da","name":"Bulk Events (Multi Status)","func":"\nreturn {\"payload\": [\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    },\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object },\n        \"x_event_type\": \"speed_report\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    }]\n};","outputs":1,"noerr":0,"x":130,"y":880,"wires":[["e906612f.09b7","b50843c3.2e3a6","909ccf1c.b799","4e459cc6.34d434"]]},{"id":"bf5d4af6.044fe8","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":835,"wires":[["3e2b6ef8.6ccbd2"]]},{"id":"dc63e28b.b4503","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":881,"wires":[["3e2b6ef8.6ccbd2"]]},{"id":"72c3d9d9.3e70b8","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":926,"wires":[["3e2b6ef8.6ccbd2","8f5d1880.50fa68"]]},{"id":"b50843c3.2e3a6","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":835,"wires":[["bf5d4af6.044fe8"]]},{"id":"909ccf1c.b799","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":882,"wires":[["dc63e28b.b4503"]]},{"id":"4e459cc6.34d434","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":927,"wires":[["72c3d9d9.3e70b8"]]},{"id":"3e2b6ef8.6ccbd2","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":860,"wires":[["2d97c68e.7287da"],["c290cdb3.e0ba6"]]},{"id":"2d97c68e.7287da","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":838,"wires":[]},{"id":"c290cdb3.e0ba6","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":878,"wires":[]},{"id":"e80ca85c.fa3148","type":"comment","z":"280846cf.8ae8da","name":"EVENT  FROM DEVICE","info":"","x":100,"y":1180,"wires":[]},{"id":"3ff98e27.4fc8f2","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":560,"y":1220,"wires":[["918bebf.8aaef18"]]},{"id":"43422e19.54ea3","type":"function","z":"280846cf.8ae8da","name":"Single Events (Ok)","func":"\nreturn {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [{\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    }]\n  ]\n};","outputs":1,"noerr":0,"x":190,"y":1320,"wires":[["3ff98e27.4fc8f2","54c29943.cff3a8","4e9348ba.cc70f8","30461066.a76ff"]]},{"id":"661532b7.6c24ec","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":582,"y":1275,"wires":[["918bebf.8aaef18"]]},{"id":"779d112a.25d2d","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":590,"y":1321,"wires":[["918bebf.8aaef18"]]},{"id":"a74df8b4.782e48","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":580,"y":1366,"wires":[["918bebf.8aaef18","52632123.cd175"]]},{"id":"54c29943.cff3a8","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":394.5,"y":1275,"wires":[["661532b7.6c24ec"]]},{"id":"4e9348ba.cc70f8","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1322,"wires":[["779d112a.25d2d"]]},{"id":"30461066.a76ff","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1367,"wires":[["a74df8b4.782e48"]]},{"id":"918bebf.8aaef18","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":780,"y":1300,"wires":[["388f86c9.5ddaaa"],["939b0d11.cbbb5"]]},{"id":"388f86c9.5ddaaa","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":910,"y":1278,"wires":[]},{"id":"939b0d11.cbbb5","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":910,"y":1318,"wires":[]},{"id":"48256e10.e25a5","type":"comment","z":"280846cf.8ae8da","name":"Single Event","info":"","x":70,"y":1220,"wires":[]},{"id":"e2bd5c67.95263","type":"comment","z":"280846cf.8ae8da","name":"Bulk Event","info":"","x":60,"y":1640,"wires":[]},{"id":"c37504bb.9bb808","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":560,"y":1440,"wires":[["98e80225.e017d"]]},{"id":"52632123.cd175","type":"function","z":"280846cf.8ae8da","name":"Single Events (Fail)","func":"\nreturn {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [{\n        \"x_event_type\": \"speed_report\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    }]\n  ]\n};","outputs":1,"noerr":0,"x":170,"y":1540,"wires":[["c37504bb.9bb808","c5e22f8.2bd36d","8ad5e7cc.7a0828","143b44e9.d7bfab"]]},{"id":"54ebac68.b71234","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":582,"y":1495,"wires":[["98e80225.e017d"]]},{"id":"1fec352e.a1225b","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":590,"y":1541,"wires":[["98e80225.e017d"]]},{"id":"a64a51d4.c4742","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":580,"y":1586,"wires":[["98e80225.e017d","891d9164.ca251"]]},{"id":"c5e22f8.2bd36d","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":394.5,"y":1495,"wires":[["54ebac68.b71234"]]},{"id":"8ad5e7cc.7a0828","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1542,"wires":[["1fec352e.a1225b"]]},{"id":"143b44e9.d7bfab","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1587,"wires":[["a64a51d4.c4742"]]},{"id":"98e80225.e017d","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":780,"y":1520,"wires":[["ff627739.2e4a18"],["4172985b.1d3278"]]},{"id":"ff627739.2e4a18","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":910,"y":1498,"wires":[]},{"id":"4172985b.1d3278","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":910,"y":1538,"wires":[]},{"id":"7a444e9c.00e3c","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":1660,"wires":[["e4f09704.6552d8"]]},{"id":"891d9164.ca251","type":"function","z":"280846cf.8ae8da","name":"Bulk Events (Ok)","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [\n        {\n            \"x_event_type\": \"engine_start\",\n            \"x_timestamp\": new Date().toISOString(),\n        },\n        {\n            \"x_event_type\": \"engine_stop\",\n            \"x_timestamp\": new Date().toISOString(),\n        }\n    ]\n  ]\n};","outputs":1,"noerr":0,"x":120,"y":1740,"wires":[["7a444e9c.00e3c","16e979f3.502ec6","5fac32cf.8bd58c","c51cb911.135578"]]},{"id":"a850ec2e.bca28","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":1715,"wires":[["e4f09704.6552d8"]]},{"id":"d0089367.d3f8e","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":1761,"wires":[["e4f09704.6552d8"]]},{"id":"1ff7561e.70222a","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":1806,"wires":[["e4f09704.6552d8","7b568616.fe3988"]]},{"id":"16e979f3.502ec6","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":1715,"wires":[["a850ec2e.bca28"]]},{"id":"5fac32cf.8bd58c","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1762,"wires":[["d0089367.d3f8e"]]},{"id":"c51cb911.135578","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1807,"wires":[["1ff7561e.70222a"]]},{"id":"e4f09704.6552d8","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":1740,"wires":[["3adf77db.9f9df8"],["e6563b2a.909bc8"]]},{"id":"3adf77db.9f9df8","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":1718,"wires":[]},{"id":"e6563b2a.909bc8","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":1758,"wires":[]},{"id":"867f4ab8.57f748","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":2060,"wires":[["53fa8e48.ce8ab"]]},{"id":"eaa6eef4.a087d","type":"function","z":"280846cf.8ae8da","name":"Bulk Events (All Fail)","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [\n        {\n            \"x_event_type\": \"speed_report\",\n            \"x_timestamp\": new Date().toISOString(),\n            \"speed\": 25.4\n        },\n        {\n            \"x_event_type\": \"speed_report\",\n            \"x_timestamp\": new Date().toISOString(),\n            \"speed\": 25.4\n        }\n    ]\n  ]\n};","outputs":1,"noerr":0,"x":140,"y":2160,"wires":[["867f4ab8.57f748","dc4a59a1.ca4258","6f2d0b08.743d44","a620b021.f3f9"]]},{"id":"a5aa3588.e9a108","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":2115,"wires":[["53fa8e48.ce8ab"]]},{"id":"634e4555.30d12c","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":2161,"wires":[["53fa8e48.ce8ab"]]},{"id":"f1882fad.77178","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":2206,"wires":[["53fa8e48.ce8ab","e9cd4c12.ef9dc"]]},{"id":"dc4a59a1.ca4258","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":2115,"wires":[["a5aa3588.e9a108"]]},{"id":"6f2d0b08.743d44","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":2162,"wires":[["634e4555.30d12c"]]},{"id":"a620b021.f3f9","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":2207,"wires":[["f1882fad.77178"]]},{"id":"53fa8e48.ce8ab","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":2120,"wires":[["5a5e055b.6e8d3c"],["8c4cfee5.b6ffb"]]},{"id":"5a5e055b.6e8d3c","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":2098,"wires":[]},{"id":"8c4cfee5.b6ffb","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":2138,"wires":[]},{"id":"f9d9a466.b49a98","type":"mnubo events","z":"280846cf.8ae8da","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":523.3333129882812,"y":1867.7777700424194,"wires":[["74d6c73c.e1fa98"]]},{"id":"7b568616.fe3988","type":"function","z":"280846cf.8ae8da","name":"Bulk Events (Multi Status)","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [\n        {\n            \"x_event_type\": \"engine_start\",\n            \"x_timestamp\": new Date().toISOString(),\n        },\n        {\n            \"x_event_type\": \"speed_report\",\n            \"x_timestamp\": new Date().toISOString(),\n            \"speed\": 25.4\n        }\n    ]\n  ]\n};","outputs":1,"noerr":0,"x":130,"y":1960,"wires":[["a3ed87b5.59b7b8","aa744ecb.d970b","3dbe316b.3cd23e","f9d9a466.b49a98"]]},{"id":"6e5e8ddd.fb51c4","type":"mnubo events","z":"280846cf.8ae8da","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":1915,"wires":[["74d6c73c.e1fa98"]]},{"id":"f9743e06.24754","type":"mnubo events","z":"280846cf.8ae8da","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":1961,"wires":[["74d6c73c.e1fa98"]]},{"id":"d324ff9b.909e2","type":"mnubo events","z":"280846cf.8ae8da","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":2006,"wires":[["74d6c73c.e1fa98","eaa6eef4.a087d"]]},{"id":"a3ed87b5.59b7b8","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":1915,"wires":[["6e5e8ddd.fb51c4"]]},{"id":"aa744ecb.d970b","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1962,"wires":[["f9743e06.24754"]]},{"id":"3dbe316b.3cd23e","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":2007,"wires":[["d324ff9b.909e2"]]},{"id":"74d6c73c.e1fa98","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":1940,"wires":[["199ee443.a74c9c"],["c9da894d.003128"]]},{"id":"199ee443.a74c9c","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":1918,"wires":[]},{"id":"c9da894d.003128","type":"debug","z":"280846cf.8ae8da","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":1958,"wires":[]},{"id":"2c5312f4.de024e","type":"inject","z":"280846cf.8ae8da","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":70,"y":1260,"wires":[["43422e19.54ea3"]]},{"id":"bca571ec.f8073","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":716.5555486679077,"y":2362.000283241272,"wires":[["9a01ef73.79242"],["c2c425b8.d56408"]]},{"id":"9a01ef73.79242","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":846.5555486679077,"y":2340.000283241272,"wires":[]},{"id":"c2c425b8.d56408","type":"debug","z":"280846cf.8ae8da","name":"Search Query","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":876.5555486679077,"y":2380.000283241272,"wires":[]},{"id":"29774dfa.36d532","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":719.8888959884644,"y":2446.4446630477905,"wires":[["d3b42717.238aa8"],["4847db31.dfda84"]]},{"id":"d3b42717.238aa8","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":849.8888959884644,"y":2424.4446630477905,"wires":[]},{"id":"4847db31.dfda84","type":"debug","z":"280846cf.8ae8da","name":"Datamodel","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":869.8888959884644,"y":2464.4446630477905,"wires":[]},{"id":"b2e4f082.2e435","type":"switch","z":"280846cf.8ae8da","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":715.6666259765625,"y":2539.33336353302,"wires":[["808a4b0b.ce48a8"],["5775aaef.014204"]]},{"id":"808a4b0b.ce48a8","type":"debug","z":"280846cf.8ae8da","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":845.6666259765625,"y":2517.33336353302,"wires":[]},{"id":"5775aaef.014204","type":"debug","z":"280846cf.8ae8da","name":"Dataset","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":855.6666259765625,"y":2557.33336353302,"wires":[]},{"id":"1379ddd4.8501d2","type":"comment","z":"7ac1bef6.f9eb","name":"Go to 'Single Claim' (Owner)","info":"","x":1015.5555744171143,"y":833.3333578109741,"wires":[]},{"id":"f945e86a.ef4a38","type":"comment","z":"892d6ac6.a94368","name":"Come from 'Bulk Updates (All Fail)' (Objects)","info":"","x":390,"y":900,"wires":[]},{"id":"a5f67d3d.4cb4a","type":"comment","z":"892d6ac6.a94368","name":"Come from 'Set Global Env' (Authentication)","info":"","x":330,"y":40,"wires":[]},{"id":"e54e4a6b.4c6a78","type":"comment","z":"7ac1bef6.f9eb","name":"Come from 'Bulk Update (All Fail)' (Owners)","info":"","x":327.77777099609375,"y":39.999999046325684,"wires":[]},{"id":"68c97f57.a2328","type":"comment","z":"280846cf.8ae8da","name":"Come from 'Bulk Claim (All Fail)' (Owners)","info":"","x":203.3333282470703,"y":116.6666669845581,"wires":[]},{"id":"668721d6.c918e","type":"comment","z":"280846cf.8ae8da","name":"Come from 'Bulk Events (All Fail)' (Events)","info":"","x":160,"y":2400,"wires":[]},{"id":"88e90676.e1d738","type":"link out","z":"5c61c927.4ad558","name":"Authentication - Set Global Env","links":["f01ff96.6f5dd08"],"x":679.2777709960938,"y":111.22216796875,"wires":[]},{"id":"5f6c3eb7.c1589","type":"comment","z":"5c61c927.4ad558","name":"Go to 'Single Creation' (Owner)","info":"","x":834.2777709960938,"y":111.22216796875,"wires":[]},{"id":"792558f8.541028","type":"delay","z":"892d6ac6.a94368","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":140,"y":60,"wires":[["45704535.0259bc"]]},{"id":"773bd4fb.44e49c","type":"delay","z":"892d6ac6.a94368","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":120,"y":900,"wires":[["fec8e7d0.0cd178"]]},{"id":"5c0a23c8.3bc34c","type":"delay","z":"7ac1bef6.f9eb","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":131.11111450195312,"y":56.66666889190674,"wires":[["5d94d501.96c0bc"]]},{"id":"8f1cbada.fef3d8","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":120,"y":140,"wires":[["6a12447c.4f424c"]]},{"id":"e9cd4c12.ef9dc","type":"delay","z":"280846cf.8ae8da","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":120,"y":2360,"wires":[["c563ed6c.88bb7","40487989.8c6578","78cfe36a.62ba1c"]]},{"id":"1d2297ef.4ad7c8","type":"comment","z":"5c61c927.4ad558","name":"CLEAN UP","info":"","x":120,"y":200,"wires":[]},{"id":"504be447.f98b5c","type":"mnubo owners","z":"5c61c927.4ad558","name":"Delete","mnuboconfig":"7e770dbf.06e484","functionselection":"delete","inputtext":"node-red-owner-auto6@test.com","x":550,"y":740,"wires":[["102bb1f4.7a570e"]]},{"id":"91c2db36.610278","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":850,"y":760,"wires":[]},{"id":"a90bdf3a.a9e1e","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"console":"false","complete":"errors","x":850,"y":720,"wires":[]},{"id":"102bb1f4.7a570e","type":"switch","z":"5c61c927.4ad558","name":"errors is not null","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","outputs":2,"x":700,"y":740,"wires":[["a90bdf3a.a9e1e"],["91c2db36.610278"]]},{"id":"a2a02e7d.fc294","type":"function","z":"5c61c927.4ad558","name":"Multiple Owners","func":"return [\n    {\"payload\": global.get(\"mnubo_variables\").mnubo1.owner}, {\"payload\": global.get(\"mnubo_variables\").mnubo2.owner},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo3.owner}, {\"payload\": global.get(\"mnubo_variables\").mnubo4.owner},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo5.owner}, {\"payload\": global.get(\"mnubo_variables\").mnubo6.owner}\n    ];\n","outputs":6,"noerr":0,"x":313.3333396911621,"y":742.000036239624,"wires":[["504be447.f98b5c"],["504be447.f98b5c"],["504be447.f98b5c"],["504be447.f98b5c"],["504be447.f98b5c"],["504be447.f98b5c"]]},{"id":"e99a442c.f409b8","type":"mnubo objects","z":"5c61c927.4ad558","name":"Delete","mnuboconfig":"7e770dbf.06e484","functionselection":"delete","inputtext":"","x":541.9999961853027,"y":623.9999752044678,"wires":[["18e9c2a3.04606d"]]},{"id":"89242a5c.7f1098","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":861.9999961853027,"y":643.9999752044678,"wires":[]},{"id":"82bdeee.435561","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"console":"false","complete":"errors","x":860.9999961853027,"y":605.9999752044678,"wires":[]},{"id":"d31628b7.a081c8","type":"function","z":"5c61c927.4ad558","name":"Multiple Objetcs","func":"return [\n    {\"payload\": global.get(\"mnubo_variables\").mnubo1.object}, {\"payload\": global.get(\"mnubo_variables\").mnubo2.object},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo3.object}, {\"payload\": global.get(\"mnubo_variables\").mnubo4.object},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo5.object}, {\"payload\": global.get(\"mnubo_variables\").mnubo6.object}\n];\n","outputs":6,"noerr":0,"x":311.99999618530273,"y":623.9999752044678,"wires":[["e99a442c.f409b8"],["e99a442c.f409b8"],["e99a442c.f409b8"],["e99a442c.f409b8"],["e99a442c.f409b8"],["e99a442c.f409b8"]]},{"id":"18e9c2a3.04606d","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":691.9999961853027,"y":623.9999752044678,"wires":[["82bdeee.435561"],["89242a5c.7f1098"]]},{"id":"5da13c17.5ebe94","type":"function","z":"5c61c927.4ad558","name":"Single unClaim","func":"return {\n    \"payload\":  [global.get(\"mnubo_variables\").mnubo1.owner, global.get(\"mnubo_variables\").mnubo1.object ]\n};","outputs":1,"noerr":0,"x":343.5,"y":258,"wires":[["3314bd2e.a0e6d2"]]},{"id":"3314bd2e.a0e6d2","type":"mnubo owners","z":"5c61c927.4ad558","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":563.5,"y":258,"wires":[["fc903a96.3e7a38","a2abcba7.ea9938"]]},{"id":"7d38df47.a2dab","type":"inject","z":"5c61c927.4ad558","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":"","x":163.5,"y":258,"wires":[["5da13c17.5ebe94"]]},{"id":"fc903a96.3e7a38","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":723.5,"y":258,"wires":[["49318e41.6bd6c"],["7b6c6401.ea632c"]]},{"id":"7b6c6401.ea632c","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":853.5,"y":276,"wires":[]},{"id":"a2abcba7.ea9938","type":"function","z":"5c61c927.4ad558","name":"Bulk unClaim (Ok)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo2.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo3.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo3.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":330,"y":340,"wires":[["87586eb5.94c27"]]},{"id":"87586eb5.94c27","type":"mnubo owners","z":"5c61c927.4ad558","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":580,"y":340,"wires":[["b3b93061.95c6c","38183d42.fe9722"]]},{"id":"b3b93061.95c6c","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":720,"y":340,"wires":[["26e579f.bbe2e86"],["d64408f2.3a1588"]]},{"id":"26e579f.bbe2e86","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":850,"y":318,"wires":[]},{"id":"d64408f2.3a1588","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":850,"y":358,"wires":[]},{"id":"38183d42.fe9722","type":"function","z":"5c61c927.4ad558","name":"Bulk unClaim (Multi Status)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo5.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo5.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":360,"y":420,"wires":[["c4aeb6c2.49d928"]]},{"id":"c4aeb6c2.49d928","type":"mnubo owners","z":"5c61c927.4ad558","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":580,"y":420,"wires":[["a01001d0.d71c3","df13f5f6.5337c8"]]},{"id":"a01001d0.d71c3","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":720,"y":420,"wires":[["878ab43e.560948"],["658a26f0.5ad0f8"]]},{"id":"878ab43e.560948","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":850,"y":398,"wires":[]},{"id":"658a26f0.5ad0f8","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":850,"y":438,"wires":[]},{"id":"df13f5f6.5337c8","type":"function","z":"5c61c927.4ad558","name":"Bulk unClaim (All Fail)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo6.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo6.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":340,"y":500,"wires":[["a69bc347.8c0ec"]]},{"id":"a69bc347.8c0ec","type":"mnubo owners","z":"5c61c927.4ad558","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":580,"y":500,"wires":[["c47d840b.055498","d31628b7.a081c8","a2a02e7d.fc294","de54605b.2d76c"]]},{"id":"c47d840b.055498","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":720,"y":500,"wires":[["b47449e3.b6ce58"],["51cb0b43.6e3d44"]]},{"id":"b47449e3.b6ce58","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":850,"y":478,"wires":[]},{"id":"51cb0b43.6e3d44","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":850,"y":518,"wires":[]},{"id":"49318e41.6bd6c","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":853.5,"y":238,"wires":[]},{"id":"c9e142f8.0cc42","type":"mnubo model","z":"5c61c927.4ad558","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"resetDatamodel","inputtext":"{\n    \"objectTypes\": [],\n    \"eventTypes\": [\n        {\n            \"key\": \"test\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"test-1\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"ownerAttributes\": [],\n    \"sessionizers\": [],\n    \"orphans\": {},\n    \"tracked\": {\n        \"objectAttributes\": []\n    },\n    \"enrichers\": {},\n    \"reservedEnrichersFields\": []\n}","x":506.5,"y":882,"wires":[["7e1f39ea.9e4298"]]},{"id":"4b21aac7.716f84","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":866.5,"y":867,"wires":[]},{"id":"c2e07c80.a3133","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":866.5,"y":899,"wires":[]},{"id":"7e1f39ea.9e4298","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":700.5,"y":882,"wires":[["4b21aac7.716f84"],["c2e07c80.a3133","a8faddbd.5e1cb"]]},{"id":"d2b127ce.999638","type":"function","z":"5c61c927.4ad558","name":"Clear MSG","func":"return {\"payload\": null};","outputs":1,"noerr":0,"x":286.5,"y":882,"wires":[["c9e142f8.0cc42"]]},{"id":"de54605b.2d76c","type":"delay","z":"5c61c927.4ad558","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":140,"y":820,"wires":[["d2b127ce.999638"]]},{"id":"777e1f78.b6cf7","type":"mnubo model","z":"5c61c927.4ad558","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"createDatamodel","inputtext":"{\n    \"objectTypes\": [\n        {\n            \"key\": \"car\",\n            \"displayName\": \"Car\",\n            \"description\": \"General\",\n            \"objectAttributes\": [\n                {\n                    \"key\": \"companyid\",\n                    \"displayName\": \"CompanyId\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"INT\",\n                        \"containerType\": \"none\"\n                    }\n                },\n                {\n                    \"key\": \"unitname\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\",\n                        \"containerType\": \"none\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"truck\",\n            \"displayName\": \"12 wheels dump truck\",\n            \"description\": \"\",\n            \"objectAttributes\": [\n                {\n                    \"key\": \"companyid\",\n                    \"displayName\": \"CompanyId\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"INT\",\n                        \"containerType\": \"none\"\n                    }\n                },\n                {\n                    \"key\": \"unitname\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\",\n                        \"containerType\": \"none\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"eventTypes\": [\n        {\n            \"key\": \"harsh_acceleration\",\n            \"displayName\": \"\",\n            \"description\": \"Harsh Acceleration\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"seatbelt_fastened_indicator\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"ignition_on\",\n            \"displayName\": \"\",\n            \"description\": \"Ignition off\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": []\n        },\n        {\n            \"key\": \"ignition_off\",\n            \"displayName\": \"\",\n            \"description\": \"Ignition off\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": []\n        }\n    ],\n    \"ownerAttributes\": [\n        {\n            \"key\": \"customername\",\n            \"displayName\": \"Customer Name\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"TEXT\",\n                \"containerType\": \"none\"\n            }\n        },\n        {\n            \"key\": \"inserteddate\",\n            \"displayName\": \"Created\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"DATETIME\",\n                \"containerType\": \"none\"\n            }\n        }\n    ]\n}","x":485.5,"y":1047,"wires":[["4226d2b0.91863c"]]},{"id":"ea01869.67bee78","type":"mnubo model","z":"5c61c927.4ad558","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"getDatamodel","inputtext":"{\n    \"objectTypes\": [],\n    \"eventTypes\": [\n        {\n            \"key\": \"test\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        },\n        {\n            \"key\": \"test-1\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"test-ts\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"ownerAttributes\": [],\n    \"sessionizers\": [],\n    \"orphans\": {},\n    \"tracked\": {\n        \"objectAttributes\": []\n    },\n    \"enrichers\": {},\n    \"reservedEnrichersFields\": []\n}","x":475.5,"y":1167,"wires":[["9aeb5994.9a2738"]]},{"id":"a8faddbd.5e1cb","type":"function","z":"5c61c927.4ad558","name":"","func":"return {\"payload\":\n    {\n    \"objectTypes\": [\n        {\n            \"key\": \"test\",\n            \"displayName\": \"test-object_type\",\n            \"description\": \"\",\n            \"objectAttributes\": [\n                {\n                    \"key\": \"color\",\n                    \"displayName\": \"Color\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"TEXT\",\n                        \"containerType\": \"none\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"eventTypes\": [\n        {\n            \"key\": \"measurement\",\n            \"displayName\": \"Measurement\",\n            \"description\": \"\",\n            \"origin\": \"unscheduled\",\n            \"timeseries\": [\n                {\n                    \"key\": \"temperature\",\n                    \"displayName\": \"\",\n                    \"description\": \"\",\n                    \"type\": {\n                        \"highLevelType\": \"FLOAT\"\n                    }\n                }\n            ]\n        }\n    ],\n    \"ownerAttributes\": [\n        {\n            \"key\": \"gender\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"TEXT\",\n                \"containerType\": \"none\"\n            }\n        },\n        {\n            \"key\": \"age\",\n            \"displayName\": \"\",\n            \"description\": \"\",\n            \"type\": {\n                \"highLevelType\": \"INT\",\n                \"containerType\": \"none\"\n            }\n        },\n    ],\n}\n};","outputs":1,"noerr":0,"x":265.5,"y":1047,"wires":[["777e1f78.b6cf7"]]},{"id":"cd83a86a.a9d718","type":"inject","z":"5c61c927.4ad558","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":186.5,"y":1002,"wires":[["a8faddbd.5e1cb"]]},{"id":"8506c13e.9c373","type":"mnubo model","z":"5c61c927.4ad558","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"promoteDatamodel","inputtext":"{\n  \"timeseries\": [\n    \"temperature\"\n  ],\n  \"objectAttributes\": [\n    \"color\"\n  ],\n  \"ownerAttributes\": [\n    \"gender\"\n  ]\n}","x":475.5,"y":1247,"wires":[["2f06f0aa.eba28"]]},{"id":"494340aa.ccaac","type":"delay","z":"5c61c927.4ad558","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":575.5,"y":1107,"wires":[["ea01869.67bee78"]]},{"id":"ecaa5a28.64f808","type":"function","z":"5c61c927.4ad558","name":"","func":"msg.payload = {\n  \"timeseries\": [\n    \"temperature\"\n  ],\n  \"objectAttributes\": [\n    \"color\"\n  ],\n  \"ownerAttributes\": [\n    \"gender\"\n  ]\n}\nreturn msg;","outputs":1,"noerr":0,"x":265.5,"y":1247,"wires":[["8506c13e.9c373"]]},{"id":"5021b455.c1a37c","type":"comment","z":"5c61c927.4ad558","name":"This call will fails since there is not Production enviroment set up","info":"","x":554.8333892822266,"y":1292.0000953674316,"wires":[]},{"id":"34138bc8.5f7904","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":863.5,"y":1032,"wires":[]},{"id":"2e01ec83.fc12f4","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":863.5,"y":1064,"wires":[]},{"id":"4226d2b0.91863c","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":697.5,"y":1047,"wires":[["34138bc8.5f7904"],["2e01ec83.fc12f4","494340aa.ccaac"]]},{"id":"ff32121f.c93ef","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":860.5,"y":1151,"wires":[]},{"id":"93378a47.bdfd88","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":860.5,"y":1183,"wires":[]},{"id":"9aeb5994.9a2738","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":694.5,"y":1166,"wires":[["ff32121f.c93ef"],["93378a47.bdfd88","ecaa5a28.64f808"]]},{"id":"a440a446.d87fe8","type":"debug","z":"5c61c927.4ad558","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":863.5,"y":1232,"wires":[]},{"id":"9038970e.ec26d8","type":"debug","z":"5c61c927.4ad558","name":"OK","active":true,"console":"false","complete":"payload","x":863.5,"y":1264,"wires":[]},{"id":"2f06f0aa.eba28","type":"switch","z":"5c61c927.4ad558","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":697.5,"y":1247,"wires":[["a440a446.d87fe8"],["9038970e.ec26d8"]]},{"id":"cd9f15f0.5f3448","type":"comment","z":"5c61c927.4ad558","name":"CREATE DATAMODEL","info":"","x":140,"y":960,"wires":[]}]
```
---

# <a name="section6"></a>6. Important notes

The nodes were renamed between version 1.0.5 and 1.1.1, if you want to convert your flow, you can edit your flows (usually in ~/.node-red/flows_$HOSTNAME.json) you created in version 1.0.5 (or less), and replace the following:

| Replace                          | To                       |
| -------------------------------- | ------------------------ |
| "type":"SmartObjects auth"       | "type":"mnubo auth"      |
| "type":"SmartObjects analytics"  | "type":"mnubo analytics" |
| "type":"SmartObjects events"     | "type":"mnubo events"    |
| "type":"SmartObjects objects"    | "type":"mnubo objects"   |
| "type":"SmartObjects owners"     | "type":"mnubo owners"    |

---

# <a name="section7"></a>7. Source code

**npm path:** https://www.npmjs.com/package/node-red-contrib-mnubo

**mnubo github sub path:**  https://github.com/mnubo/node-red-contrib-mnubo/tree/master/nodes/mnubo

---

# <a name="section8"></a>8. Known limitations

N/A

---
# <a name="section9"></a>9. References

https://www.npmjs.com/package/mnubo-sdk
http://nodered.org/
https://github.com/node-red/node-red
https://sop.mtl.mnubo.com/apps/doc/?i=t
